\hypertarget{connections_8c}{}\section{connections.\+c File Reference}
\label{connections_8c}\index{connections.\+c@{connections.\+c}}


contiene implementazione funzioni dichiarate in \hyperlink{connections_8h_source}{connections.\+h}  


{\ttfamily \#include $<$connections.\+h$>$}\\*
{\ttfamily \#include $<$sys/socket.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$sys/un.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$pthread.\+h$>$}\\*
{\ttfamily \#include $<$mylib.\+h$>$}\\*
Include dependency graph for connections.\+c\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{connections_8c_a93ad31c416b2e2055827e5f684e89daf}{open\+Connection} (char $\ast$path, unsigned int ntimes, unsigned int secs)
\begin{DoxyCompactList}\small\item\em Apre una connessione A\+F\+\_\+\+U\+N\+IX verso il server. \end{DoxyCompactList}\item 
int \hyperlink{connections_8c_a2a15cc3debfd6700ea0f40a198c55c85}{read\+Header} (long connfd, \hyperlink{structmessage__hdr__t}{message\+\_\+hdr\+\_\+t} $\ast$hdr)
\begin{DoxyCompactList}\small\item\em Legge l\textquotesingle{}header del messaggio. \end{DoxyCompactList}\item 
int \hyperlink{connections_8c_acf5cb8379636265d11a008d6aa94dc30}{read\+Data} (long fd, \hyperlink{structmessage__data__t}{message\+\_\+data\+\_\+t} $\ast$\hyperlink{structdata}{data})
\begin{DoxyCompactList}\small\item\em Legge il body del messaggio. \end{DoxyCompactList}\item 
int \hyperlink{connections_8c_a2fc6b845d44636fb241a848e58c83420}{read\+Msg} (long fd, \hyperlink{structmessage__t}{message\+\_\+t} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Legge l\textquotesingle{}intero messaggio. \end{DoxyCompactList}\item 
int \hyperlink{connections_8c_a3c23eb25de2ae8b5216eb6dd847521c0}{send\+Request} (long fd, \hyperlink{structmessage__t}{message\+\_\+t} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Invia un messaggio di richiesta al server. \end{DoxyCompactList}\item 
int \hyperlink{connections_8c_a7812cf59eeeaa63ce7d7b9ce93125462}{send\+Data} (long fd, \hyperlink{structmessage__data__t}{message\+\_\+data\+\_\+t} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Invia il body del messaggio al server. \end{DoxyCompactList}\item 
int \hyperlink{connections_8c_a1a3f1d447f26575379802386e4cb1587}{send\+Header} (long fd, \hyperlink{structmessage__hdr__t}{message\+\_\+hdr\+\_\+t} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Invia header del messaggio al server. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
contiene implementazione funzioni dichiarate in \hyperlink{connections_8h_source}{connections.\+h} 

\begin{DoxyAuthor}{Author}
Nicolo` Maio 544935 
\end{DoxyAuthor}


\subsection{Function Documentation}
\index{connections.\+c@{connections.\+c}!open\+Connection@{open\+Connection}}
\index{open\+Connection@{open\+Connection}!connections.\+c@{connections.\+c}}
\subsubsection[{\texorpdfstring{open\+Connection(char $\ast$path, unsigned int ntimes, unsigned int secs)}{openConnection(char *path, unsigned int ntimes, unsigned int secs)}}]{\setlength{\rightskip}{0pt plus 5cm}int open\+Connection (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{path, }
\item[{unsigned int}]{ntimes, }
\item[{unsigned int}]{secs}
\end{DoxyParamCaption}
)}\hypertarget{connections_8c_a93ad31c416b2e2055827e5f684e89daf}{}\label{connections_8c_a93ad31c416b2e2055827e5f684e89daf}


Apre una connessione A\+F\+\_\+\+U\+N\+IX verso il server. 

open\+Connection 
\begin{DoxyParams}{Parameters}
{\em path} & Path del socket A\+F\+\_\+\+U\+N\+IX \\
\hline
{\em ntimes} & numero massimo di tentativi di retry \\
\hline
{\em secs} & tempo di attesa tra due retry consecutive\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
il descrittore associato alla connessione in caso di successo -\/1 in caso di errore 
\end{DoxyReturn}
\index{connections.\+c@{connections.\+c}!read\+Data@{read\+Data}}
\index{read\+Data@{read\+Data}!connections.\+c@{connections.\+c}}
\subsubsection[{\texorpdfstring{read\+Data(long fd, message\+\_\+data\+\_\+t $\ast$data)}{readData(long fd, message_data_t *data)}}]{\setlength{\rightskip}{0pt plus 5cm}int read\+Data (
\begin{DoxyParamCaption}
\item[{long}]{fd, }
\item[{{\bf message\+\_\+data\+\_\+t} $\ast$}]{data}
\end{DoxyParamCaption}
)}\hypertarget{connections_8c_acf5cb8379636265d11a008d6aa94dc30}{}\label{connections_8c_acf5cb8379636265d11a008d6aa94dc30}


Legge il body del messaggio. 

read\+Data 
\begin{DoxyParams}{Parameters}
{\em fd} & descrittore della connessione \\
\hline
{\em data} & puntatore al body del messaggio\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$<$=0 se c\textquotesingle{}e\textquotesingle{} stato un errore (se $<$0 errno deve essere settato, se == 0 connessione chiusa) 
\end{DoxyReturn}
\index{connections.\+c@{connections.\+c}!read\+Header@{read\+Header}}
\index{read\+Header@{read\+Header}!connections.\+c@{connections.\+c}}
\subsubsection[{\texorpdfstring{read\+Header(long connfd, message\+\_\+hdr\+\_\+t $\ast$hdr)}{readHeader(long connfd, message_hdr_t *hdr)}}]{\setlength{\rightskip}{0pt plus 5cm}int read\+Header (
\begin{DoxyParamCaption}
\item[{long}]{connfd, }
\item[{{\bf message\+\_\+hdr\+\_\+t} $\ast$}]{hdr}
\end{DoxyParamCaption}
)}\hypertarget{connections_8c_a2a15cc3debfd6700ea0f40a198c55c85}{}\label{connections_8c_a2a15cc3debfd6700ea0f40a198c55c85}


Legge l\textquotesingle{}header del messaggio. 

read\+Header 
\begin{DoxyParams}{Parameters}
{\em fd} & descrittore della connessione \\
\hline
{\em hdr} & puntatore all\textquotesingle{}header del messaggio da ricevere\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$<$=0 se c\textquotesingle{}e\textquotesingle{} stato un errore (se $<$0 errno deve essere settato, se == 0 connessione chiusa) 
\end{DoxyReturn}
\index{connections.\+c@{connections.\+c}!read\+Msg@{read\+Msg}}
\index{read\+Msg@{read\+Msg}!connections.\+c@{connections.\+c}}
\subsubsection[{\texorpdfstring{read\+Msg(long fd, message\+\_\+t $\ast$msg)}{readMsg(long fd, message_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}int read\+Msg (
\begin{DoxyParamCaption}
\item[{long}]{fd, }
\item[{{\bf message\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{connections_8c_a2fc6b845d44636fb241a848e58c83420}{}\label{connections_8c_a2fc6b845d44636fb241a848e58c83420}


Legge l\textquotesingle{}intero messaggio. 

read\+Msg 
\begin{DoxyParams}{Parameters}
{\em fd} & descrittore della connessione \\
\hline
{\em data} & puntatore al messaggio\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$<$=0 se c\textquotesingle{}e\textquotesingle{} stato un errore (se $<$0 errno deve essere settato, se == 0 connessione chiusa) 
\end{DoxyReturn}
\index{connections.\+c@{connections.\+c}!send\+Data@{send\+Data}}
\index{send\+Data@{send\+Data}!connections.\+c@{connections.\+c}}
\subsubsection[{\texorpdfstring{send\+Data(long fd, message\+\_\+data\+\_\+t $\ast$msg)}{sendData(long fd, message_data_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}int send\+Data (
\begin{DoxyParamCaption}
\item[{long}]{fd, }
\item[{{\bf message\+\_\+data\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{connections_8c_a7812cf59eeeaa63ce7d7b9ce93125462}{}\label{connections_8c_a7812cf59eeeaa63ce7d7b9ce93125462}


Invia il body del messaggio al server. 

send\+Data 
\begin{DoxyParams}{Parameters}
{\em fd} & descrittore della connessione \\
\hline
{\em msg} & puntatore al messaggio da inviare\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$<$=0 se c\textquotesingle{}e\textquotesingle{} stato un errore 
\end{DoxyReturn}
\index{connections.\+c@{connections.\+c}!send\+Header@{send\+Header}}
\index{send\+Header@{send\+Header}!connections.\+c@{connections.\+c}}
\subsubsection[{\texorpdfstring{send\+Header(long fd, message\+\_\+hdr\+\_\+t $\ast$msg)}{sendHeader(long fd, message_hdr_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}int send\+Header (
\begin{DoxyParamCaption}
\item[{long}]{fd, }
\item[{{\bf message\+\_\+hdr\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{connections_8c_a1a3f1d447f26575379802386e4cb1587}{}\label{connections_8c_a1a3f1d447f26575379802386e4cb1587}


Invia header del messaggio al server. 

send\+Header 
\begin{DoxyParams}{Parameters}
{\em fd} & descrittore della connessione \\
\hline
{\em msg} & puntatore al header da inviare\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$<$=0 se c\textquotesingle{}e\textquotesingle{} stato un errore 
\end{DoxyReturn}
\index{connections.\+c@{connections.\+c}!send\+Request@{send\+Request}}
\index{send\+Request@{send\+Request}!connections.\+c@{connections.\+c}}
\subsubsection[{\texorpdfstring{send\+Request(long fd, message\+\_\+t $\ast$msg)}{sendRequest(long fd, message_t *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}int send\+Request (
\begin{DoxyParamCaption}
\item[{long}]{fd, }
\item[{{\bf message\+\_\+t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{connections_8c_a3c23eb25de2ae8b5216eb6dd847521c0}{}\label{connections_8c_a3c23eb25de2ae8b5216eb6dd847521c0}


Invia un messaggio di richiesta al server. 

send\+Request 
\begin{DoxyParams}{Parameters}
{\em fd} & descrittore della connessione \\
\hline
{\em msg} & puntatore al messaggio da inviare\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$<$=0 se c\textquotesingle{}e\textquotesingle{} stato un errore 
\end{DoxyReturn}
